<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>素食庫</title>
  <link rel="stylesheet" href="guide.css" />
</head>

<body>
  <section class="vege-library">
    <div class="vege-header">
      <h1 class="vege-title">素食庫</h1>
      <div class="vege-text">
        <h3>六大營養素</h3>
        <p>
          素食者的飲食需要特別關注一些關鍵的營養素，包括維生素B12、維生素D、鈣質、鐵質、蛋白質和Omega-3脂肪酸。
          由於這些營養素大多來自動物性食品，素食者需從蔬果和堅果等植物性來源補充或搭配素食補充產品。
        </p>
      </div>
    </div>

    <div class="card-container">
      <div class="nutrient-card" data-nutrient="b12">
        <img src="../../public/assets/b12.svg" class="nutrient-img" alt="B12" />
        <div class="label">
          <h4>B12</h4>
          <p>維生素B12</p>
        </div>
        <div class="partner-count"></div>
      </div>

      <div class="nutrient-card" data-nutrient="ca">
        <img src="../../public/assets/ca.svg" class="nutrient-img" alt="Ca+" />
        <div class="label">
          <h4>Ca+</h4>
          <p>鈣質</p>
        </div>
        <div class="partner-count"></div>
      </div>
      <div class="nutrient-card" data-nutrient="d">
        <img src="../../public/assets/D@3x.svg" class="nutrient-img" alt="D+" />
        <div class="label">
          <h4>D+</h4>
          <p>維生素D</p>
        </div>
        <div class="partner-count"></div>
      </div>
      <div class="nutrient-card" data-nutrient="fe">
        <img src="../../public/assets/fe@3x.svg" class="nutrient-img" alt="Fe" />
        <div class="label">
          <h4>Fe</h4>
          <p>鐵質</p>
        </div>
        <div class="partner-count"></div>
      </div>
      <div class="nutrient-card" data-nutrient="protein">
        <img src="../../public/assets/n@3x.svg" class="nutrient-img" alt="Protein" />
        <div class="label">
          <h4>Protein</h4>
          <p>蛋白質</p>
        </div>
        <div class="partner-count"></div>
      </div>
      <div class="nutrient-card" data-nutrient="omega">
        <img src="../../public/assets/omega3.svg" class="nutrient-img" alt="Omg" />
        <div class="label">
          <h4>Omg</h4>
          <p>Omega-3</p>
        </div>
        <div class="partner-count"></div>
      </div>
    </div>

    <!-- 展開後的詳細區塊 -->
    <div class="guide-detail" id="guide-detail">
      <button class="guide-close" id="guide-close">✕</button>
      <img id="guide-icon" class="guide-icon" src="" alt="icon" />
      <h2 id="guide-title">營養素標題</h2>
      <p id="guide-description">這裡是介紹文字</p>

      <h4>營養好夥伴</h4>
      <div class="guide-partners" id="guide-partners"></div>


      <h4>推薦營養品</h4>
      <div class="guide-products" id="guide-products"></div>
    </div>
    <div id="guide-overlay" class="guide-overlay"></div>
  </section>

  <script>
    const nutrientData = {
      b12: {
        icon: '../../public/assets/b12.svg',
        title: 'B12 維生素B12',
        desc: '維生素B12 有助於紅血球生成與神經系統健康...',
        partners: [
          { src: '../../public/images/friends/B12-yeast.svg', name: '酵母寶寶' }
        ],
        products: [
          {
            img: '../../public/images/Pd/B12-hover.svg',
            tags: ['手腳冰冷', '補血'],
            title: 'B12超能素',
            subtitle: '紅血球增生配方',
            desc: '幫助補充每日B12需求，保護神經健康與血液循環。',
          },
          {
            img: '../../public/images/Pd/Ca-hover.svg',
            tags: ['代謝', '神經系統'],
            title: '全能B群錠',
            subtitle: 'B群＋鐵＋鋅',
            desc: '專為素食者設計的複方B群補充劑，促進代謝與能量。',
          },
          {
            img: '../../public/images/Pd/D-hover.svg',
            tags: ['養氣', '補充能量'],
            title: '活力寶',
            subtitle: '日常補給必備',
            desc: '輕鬆補充每日所需營養，維持整天好精神。',
          },
        ],
      },
      ca: {
        icon: '../../public/assets/ca.svg',
        title: 'Ca+ 鈣質',
        desc: '促進骨骼與牙齒健康的重要元素...',
        partners: [
          { src: '../../public/images/friends/Ca-kale.svg', name: '芥藍' }, { src: '../../public/images/friends/pf-md.svg', name: '毛豆' }, { src: '../../public/images/friends/Fe-blackS.svg', name: '黑芝麻' },
        ],
        products: [
          {
            img: '../../public/images/Pd/B12-hover.svg',
            tags: ['手腳冰冷', '補血'],
            title: 'B12超能素',
            subtitle: '紅血球增生配方',
            desc: '幫助補充每日B12需求，保護神經健康與血液循環。',
          },
          {
            img: '../../public/images/Pd/Ca-hover.svg',
            tags: ['代謝', '神經系統'],
            title: '全能B群錠',
            subtitle: 'B群＋鐵＋鋅',
            desc: '專為素食者設計的複方B群補充劑，促進代謝與能量。',
          },
          {
            img: '../../public/images/Pd/D-hover.svg',
            tags: ['養氣', '補充能量'],
            title: '活力寶',
            subtitle: '日常補給必備',
            desc: '輕鬆補充每日所需營養，維持整天好精神。',
          },
        ],
      },
      d: {
        icon: '../../public/assets/D@3x.svg',
        title: 'Ca+ 鈣質',
        desc: '促進骨骼與牙齒健康的重要元素...',
        partners: [{ src: '../../public/images/friends/D-mushroom.svg', name: '香菇' }, { src: '../../public/images/friends/D-fungus.svg', name: '黑木耳' }, { src: '../../public/images/friends/D-sun.svg', name: '陽光' }],
        products: [
          {
            img: '../../public/images/Pd/B12-hover.svg',
            tags: ['手腳冰冷', '補血'],
            title: 'B12超能素',
            subtitle: '紅血球增生配方',
            desc: '幫助補充每日B12需求，保護神經健康與血液循環。',
          },
          {
            img: '../../public/images/Pd/Ca-hover.svg',
            tags: ['代謝', '神經系統'],
            title: '全能B群錠',
            subtitle: 'B群＋鐵＋鋅',
            desc: '專為素食者設計的複方B群補充劑，促進代謝與能量。',
          },
          {
            img: '../../public/images/Pd/D-hover.svg',
            tags: ['養氣', '補充能量'],
            title: '活力寶',
            subtitle: '日常補給必備',
            desc: '輕鬆補充每日所需營養，維持整天好精神。',
          },
        ],
      },
      fe: {
        icon: '../../public/assets/fe@3x.svg',
        title: 'Ca+ 鈣質',
        desc: '促進骨骼與牙齒健康的重要元素...',
        partners: [{ src: '../../public/images/friends/Fe-blackS.svg', name: '黑芝麻' }, { src: '../../public/images/friends/Fe-bc.svg', name: '菠菜' }, { src: '../../public/images/friends/Fe-redM.svg', name: '紅藜麥' }, { src: '../../public/images/friends/Fe-BB.svg', name: '黑豆' }, { src: '../../public/images/friends/Fe-pk.svg', name: '南瓜' },],
        products: [
          {
            img: '../../public/images/Pd/B12-hover.svg',
            tags: ['手腳冰冷', '補血'],
            title: 'B12超能素',
            subtitle: '紅血球增生配方',
            desc: '幫助補充每日B12需求，保護神經健康與血液循環。',
          },
          {
            img: '../../public/images/Pd/Ca-hover.svg',
            tags: ['代謝', '神經系統'],
            title: '全能B群錠',
            subtitle: 'B群＋鐵＋鋅',
            desc: '專為素食者設計的複方B群補充劑，促進代謝與能量。',
          },
          {
            img: '../../public/images/Pd/D-hover.svg',
            tags: ['養氣', '補充能量'],
            title: '活力寶',
            subtitle: '日常補給必備',
            desc: '輕鬆補充每日所需營養，維持整天好精神。',
          },
        ],
      },
      protein: {
        icon: '../../public/assets/n@3x.svg',
        title: 'Ca+ 鈣質',
        desc: '促進骨骼與牙齒健康的重要元素...',
        partners: [{ src: '../../public/images/friends/pf-md.svg', name: '毛豆' }, { src: '../../public/images/friends/pf-tofu.svg', name: '豆腐' }, { src: '../../public/images/friends/pf-bd.svg', name: '扁豆' },],
        products: [
          {
            img: '../../public/images/Pd/B12-hover.svg',
            tags: ['手腳冰冷', '補血'],
            title: 'B12超能素',
            subtitle: '紅血球增生配方',
            desc: '幫助補充每日B12需求，保護神經健康與血液循環。',
          },
          {
            img: '../../public/images/Pd/Ca-hover.svg',
            tags: ['代謝', '神經系統'],
            title: '全能B群錠',
            subtitle: 'B群＋鐵＋鋅',
            desc: '專為素食者設計的複方B群補充劑，促進代謝與能量。',
          },
          {
            img: '../../public/images/Pd/D-hover.svg',
            tags: ['養氣', '補充能量'],
            title: '活力寶',
            subtitle: '日常補給必備',
            desc: '輕鬆補充每日所需營養，維持整天好精神。',
          },
        ],
      },
      omega: {
        icon: '../../public/assets/omega3.svg',
        title: 'Ca+ 鈣質',
        desc: '促進骨骼與牙齒健康的重要元素...',
        partners: [{ src: '../../public/images/friends/omg3-Flaxseed.svg', name: '亞麻籽' }, { src: '../../public/images/friends/omg3-chiaSeeds.svg', name: '奇亞籽' }, { src: '../../public/images/friends/omg3-walnut.svg', name: '核桃' }, { src: '../../public/images/friends/omg3-yellowb.svg', name: '黃豆' },],
        products: [
          {
            img: '../../public/images/Pd/B12-hover.svg',
            tags: ['手腳冰冷', '補血'],
            title: 'B12超能素',
            subtitle: '紅血球增生配方',
            desc: '幫助補充每日B12需求，保護神經健康與血液循環。',
          },
          {
            img: '../../public/images/Pd/Ca-hover.svg',
            tags: ['代謝', '神經系統'],
            title: '全能B群錠',
            subtitle: 'B群＋鐵＋鋅',
            desc: '專為素食者設計的複方B群補充劑，促進代謝與能量。',
          },
          {
            img: '../../public/images/Pd/D-hover.svg',
            tags: ['養氣', '補充能量'],
            title: '活力寶',
            subtitle: '日常補給必備',
            desc: '輕鬆補充每日所需營養，維持整天好精神。',
          },
        ],
      },
    };

    const cards = document.querySelectorAll('.nutrient-card');
    const detail = document.getElementById('guide-detail');
    const icon = document.getElementById('guide-icon');
    const title = document.getElementById('guide-title');
    const desc = document.getElementById('guide-description');
    const partners = document.getElementById('guide-partners');
    const products = document.getElementById('guide-products');
    const closeBtn = document.getElementById('guide-close');

    cards.forEach(card => {
      card.addEventListener('click', e => {
        e.stopPropagation();
        const key = card.dataset.nutrient;
        const data = nutrientData[key];
        if (!data) return;

        icon.src = data.icon;
        title.textContent = data.title;
        desc.textContent = data.desc;

        partners.innerHTML = data.partners.map(item => `
        <div class="guide-partners-item">
          <img src="${item.src}" alt="${item.name}" />
          <p>${item.name}</p>
        </div>
      `).join('');

        products.innerHTML = data.products.map(product => `
        <div class="product-card">
          <div class="product-image-wrapper">
            <img src="${product.img}" alt="${product.title}" class="product-image" />
          </div>
          <div class="product-meta">
            <div class="product-tags">
              ${product.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
            </div>
            <div class="product-icon">
              <button class="cart-btn" aria-label="加入購物車"></button>
              <button class="like-btn" aria-label="加入收藏"></button>
            </div>
          </div>
          <div class="product-title">${product.title}
            <span class="product-subtitle">${product.subtitle}</span>
          </div>
          <div class="product-desc">${product.desc}</div>
          <a href="#" class="product-link">
            <span class="arrow">&gt;</span><span class="text">看完整產品內容</span>
          </a>
        </div>
      `).join('');

        detail.classList.add('show');
        overlay.classList.add('show');
      });
    });

    document.addEventListener('click', e => {
      if (!e.target.closest('.nutrient-card') && !e.target.closest('#guide-detail')) {
        detail.classList.remove('show');
        overlay.classList.remove('show');
      }
    });

    closeBtn.addEventListener('click', () => {
      detail.classList.remove('show');
      overlay.classList.remove('show');
    });

    const overlay = document.getElementById('guide-overlay');

    // 初始化：把每張卡片的 .partner-count 設為對應夥伴數量
    document.querySelectorAll('.nutrient-card').forEach(card => {
      const key = card.dataset.nutrient;
      const data = nutrientData[key];
      const countEl = card.querySelector('.partner-count');
      if (data && data.partners && countEl) {
        countEl.textContent = data.partners.length;
      }
    });
  </script>
</body>

</html>